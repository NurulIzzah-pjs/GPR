<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Glow Paint Run</title>
    <meta name="description" content="" />
    <meta name="keywords" content="" />

    <!-- Favicons -->
    <link href="../assets/img/favicon.png" rel="icon" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
    />

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />

    <!-- Vendor CSS Files -->
    <link
      href="../assets/vendor/bootstrap/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="../assets/vendor/bootstrap-icons/bootstrap-icons.css"
      rel="stylesheet"
    />
    <script href="../assets/vendor/aos/aos.css" rel="stylesheet"></script>

    <!-- Bootstrap 4 CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- jQuery (required for Bootstrap 4 JS) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <!-- Bootstrap 4 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Main CSS File -->
    <link href="../assets/css/bypackage.css" rel="stylesheet" />
  </head>

  <body class="index-page">
    <header
      id="header"
      class="header d-flex align-items-center px-3 sticky-top"
    >
      <div
        class="container-fluid position-relative d-flex align-items-center justify-content-between"
      >
        <a href="index.html" class="logo d-flex align-items-center">
          <h1 class="sitename">3KPP USM</h1>
        </a>
        <nav id="navmenu" class="navmenu">
          <ul>
            <li><a href="../Templates/admin_dashboard.html">Dashboard</a></li>
            <li><a href="#events" class="active">Manage Event</a></li>
            <li><a href="../Templates/manage_participant.html" >Participant Details</a></li>
                          <li><a href="../index.html">Logout</a></li>

            <!-- <li class="dropdown">
              <a
                href="javascript:void(0)"
                class="dropdown-toggle"
                id="participantDetailsDropdown"
                data-bs-toggle="dropdown"
                aria-expanded="false"
                >Participant Details</a
              >
              <ul
                class="dropdown-menu"
                aria-labelledby="participantDetailsDropdown"
              >
                <li>
                  <a
                    class="dropdown-item"
                    href="manage_participant.html#participant"
                    >List by Package</a
                  >
                </li>
                <li>
                  <a
                    class="dropdown-item"
                    href="manage_participant.html#Attendance"
                    >Participant attendance</a
                  >
                </li>
              </ul> -->
            </li>
          </ul>
          <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
        </nav>
      </div>
    </header>

    <style>
      /* Modal Background */
.modal.fade .modal-dialog {
  max-width: 600px; /* Set the width of the modal */
  margin: 1.75rem auto; /* Center the modal on the screen */
}

/* Modal Content */
.modal-content {
  border-radius: 10px; /* Rounded corners */
  padding: 20px; /* Padding around the modal content */
  background-color: #fff; /* White background */
  border: none; /* Remove borders */
}

/* Modal Header */
.modal-header {
  border-bottom: 1px solid #ddd; /* Light border between header and body */
  padding: 15px 20px; /* Padding inside the header */
  background-color: #f7f7f7; /* Light gray background */
  color: #333; /* Dark text color */
}

/* Modal Title */
.modal-title {
  font-size: 1.25rem;
  font-weight: bold;
  margin: 0; /* Remove default margin */
  color: black;
}

/* Close Button */
.modal-header .close {
  font-size: 1.5rem;
  color: #999; /* Light gray color for close button */
  opacity: 1; /* Full opacity */
}

.modal-header .close:hover {
  color: #333; /* Darker color on hover */
}

/* Modal Body */
.modal-body {
  padding: 20px; /* Padding around the form */
  color: black;
}

/* Form Group */
.form-group {
  margin-bottom: 1.5rem; /* Space between form fields */
}

.form-group label {
  font-size: 1rem;
  font-weight: 600;
  color: #333; /* Label color */
}

.form-control {
  border-radius: 5px; /* Rounded input fields */
  padding: 10px; /* Padding inside input fields */
  font-size: 1rem; /* Font size for input text */
  border: 1px solid #ddd; /* Light border for input */
}

.form-control:focus {
  border-color: #5b9bd5; /* Blue border on focus */
  box-shadow: 0 0 5px rgba(91, 155, 213, 0.5); /* Subtle glow on focus */
}

/* Buttons */
button.close {
  padding: 0.75rem;
  background-color: transparent;
  border: none;
  font-size: 1.5rem;
  color: #999;
}

button.close:hover {
  color: #333;
}

.modal-footer {
  border-top: 1px solid #ddd;
  padding: 10px 20px;
  text-align: right;
}

/* Show/Hide the Form Fields */
#titleField,
#dateField,
#timeField,
#locationField {
  display: block; /* Set to block so fields are visible when needed */
}

/* Optional: You can set the modal background color when it's active */
.modal-backdrop {
  background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent dark backdrop */
}

    </style>

      <section
        id="events"
        class="participant section transparent-background"
      >
        <div
          class="container text-center"
          data-aos="fade-up"
          data-aos-delay="100"
        >
          <div class="row justify-content-center">
            <!-- <div class="col-lg-8"> -->
            <h2>Manage Events</h2>
          </div>

          <!-- EVENT DETAILS -->
          <div class="event-card">
            <h3>Event Details</h3>

            <div class="container">
              <div class="table-wrapper">
                <div class="table-title">
                  <div class="row">
                    <div class="col-sm-6">
                      <!-- <h4><b>STUDENT</b> list</h4> -->
                    </div>
                    <!-- <div class="col-sm-6">
                            <a href="#addEmployeeModal" class="btn btn-success" data-toggle="modal"><i class="material-icons">&#xE147;</i> <span>Add New Employee</span></a>
						<a href="#deleteEmployeeModal" class="btn btn-danger" data-toggle="modal"><i class="material-icons">&#xE15C;</i> <span>Delete</span></a>	
                    </div> -->
                  </div>
                </div>
                <table class="table table-striped table-hover">
                  <thead>
                    <tr>
                      <th style="width: 12%;">Field</th>
                      <th>Value</th>
                      <th>Actions</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>Event Title</td>
                      <td id="eventTitleCell">GLOW PAINT RUN</td>
                      <td>
                        <a
                          href="#editInfoModal"
                          class="edit"
                          data-toggle="modal"
                          data-field="title" 
                          data-value="GLOW PAINT RUN"
                          ><i
                            class="material-icons"
                            data-toggle="tooltip"
                            title="Edit"
                            >&#xE254;</i
                          ></a
                        >
                        <a
                          href="#deleteInfoModal"
                          class="delete"
                          data-toggle="modal"
                          ><i
                            class="material-icons"
                            data-toggle="tooltip"
                            title="Delete"
                            >&#xE872;</i
                          ></a
                        >
                      </td>
                      </tr>

                      <tr>
                      <td>Event Date</td>
                      <td id="eventDateCell">14 December 2024</td>
                      <td>
                        <a
                          href="#editInfoModal"
                          class="edit"
                          data-toggle="modal"
                          data-field="date" 
                          data-value="14 December 2024"
                          ><i
                            class="material-icons"
                            data-toggle="tooltip"
                            title="Edit"
                            >&#xE254;</i
                          ></a
                        >
                        <a
                          href="#deleteInfoModal"
                          class="delete"
                          data-toggle="modal"
                          ><i
                            class="material-icons"
                            data-toggle="tooltip"
                            title="Delete"
                            >&#xE872;</i
                          ></a
                        >
                      </td>
                    </tr>
                    <tr>
                  <td>Event Time</td>
                  <td id="eventTimeCell">8:00 PM</td>
                  <td>
                    <a href="#editInfoModal" 
                    class="edit" data-toggle="modal" 
                    data-field="time" 
                    data-value="8:00 PM">
                      <i class="material-icons" 
                      data-toggle="tooltip" 
                      title="Edit">&#xE254;</i>
                    </a>
                    <a
                          href="#deleteInfoModal"
                          class="delete"
                          data-toggle="modal"
                          ><i
                            class="material-icons"
                            data-toggle="tooltip"
                            title="Delete"
                            >&#xE872;</i
                          ></a
                        >
                  </td>
                </tr>
                <tr>
                  <td>Event Location</td>
                  <td id="eventLocationCell">The Brick, USM</td>
                  <td>
                    <a 
                    href="#editInfoModal" 
                    class="edit" 
                    data-toggle="modal" 
                    data-field="location" 
                    data-value="The Brick, USM">
                      <i class="material-icons" 
                      data-toggle="tooltip" 
                      title="Edit">&#xE254;</i>
                    </a>
                    <a
                          href="#deleteInfoModal"
                          class="delete"
                          data-toggle="modal"
                          ><i
                            class="material-icons"
                            data-toggle="tooltip"
                            title="Delete"
                            >&#xE872;</i
                          ></a
                        >
                  </td>
                </tr>
                </tbody>
                </table>
              </div>
            </div>
          </div>

          <!-- EVENT SCHEDULE -->
          <div class="event-card">
            <h3>Event Schedule</h3>
            <div class="container">
              <div class="table-wrapper">
                <div class="table-title">
                  <div class="row">
                    <div class="col-sm-6">
                    </div>
                    <div class="col-sm-6">
                      <a
                        href="#addActivityModal"
                        class="btn btn-success"
                        data-toggle="modal"
                        ><i class="material-icons">&#xE147;</i>
                        <span>Add New Activity</span></a
                      >
                      <!-- <a href="#deleteActivityModal" class="btn btn-danger" data-toggle="modal"><i class="material-icons">&#xE15C;</i> <span>Delete</span></a>	 -->
                    </div>
                  </div>
                </div>
                <table class="table table-striped table-hover">
                  <thead>
                    <tr>
                      <th style="width: 20%;">Time</th>
                      <th>Activity</th>
                      <th>Location</th>
                      <th>Actions</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr data-id="1">
                      <td class="activity-time">8.00 PM</td>
                      <td class="activity-name">Registration Opens</td>
                      <td class="activity-location">The Brick, USM</td>
                      <td>
                        <a
                          href="#editSpecificActivityModal"
                          class="edit"
                          data-toggle="modal"
                          data-time="8.00 PM"
                          data-name="Registration Opens"
                          data-location="The Brick, USM"
                          data-id="1"
                        >
                          <i
                            class="material-icons"
                            data-toggle="tooltip"
                            title="Edit"
                            >&#xE254;</i
                          >
                        </a>
                        <a
                          href="#deleteSpecificActivityModal"
                          class="delete"
                          data-toggle="modal"
                        >
                          <i
                            class="material-icons"
                            data-toggle="tooltip"
                            title="Delete"
                            >&#xE872;</i
                          >
                        </a>
                      </td>
                    </tr>
                    <tr data-id="2">
                      <td class="activity-time">8.30 PM</td>
                      <td class="activity-name">Warm Up</td>
                      <td class="activity-location">The Brick, USM</td>
                      <td>
                        <a
                          href="#editSpecificActivityModal"
                          class="edit"
                          data-toggle="modal"
                          data-time="8.30 PM"
                          data-name="Warm Up"
                          data-location="The Brick, USM"
                          data-id="2"
                        >
                          <i
                            class="material-icons"
                            data-toggle="tooltip"
                            title="Edit"
                            >&#xE254;</i
                          >
                        </a>
                        <a
                          href="#deleteSpecificActivityModal"
                          class="delete"
                          data-toggle="modal"
                        >
                          <i
                            class="material-icons"
                            data-toggle="tooltip"
                            title="Delete"
                            >&#xE872;</i
                          >
                        </a>
                      </td>
                    </tr>
                    <tr data-id="3">
                      <td class="activity-time">8.45 PM</td>
                      <td class="activity-name">Flag Off</td>
                      <td class="activity-location">Starting Line</td>
                      <td>
                        <a
                          href="#editSpecificActivityModal"
                          class="edit"
                          data-toggle="modal"
                          data-time="8.45 PM"
                          data-name="Flag Off"
                          data-location="Starting Line"
                          data-id="3"
                        >
                          <i
                            class="material-icons"
                            data-toggle="tooltip"
                            title="Edit"
                            >&#xE254;</i
                          >
                        </a>
                        <a
                          href="#deleteSpecificActivityModal"
                          class="delete"
                          data-toggle="modal"
                        >
                          <i
                            class="material-icons"
                            data-toggle="tooltip"
                            title="Delete"
                            >&#xE872;</i
                          >
                        </a>
                      </td>
                    </tr>
                    <tr data-id="4">
                      <td class="activity-time">10.15 PM</td>
                      <td class="activity-name">Participants Finish</td>
                      <td class="activity-location">Finish Line</td>
                      <td>
                        <a
                          href="#editSpecificActivityModal"
                          class="edit"
                          data-toggle="modal"
                          data-time="10.15 PM"
                          data-name="Participants Finish"
                          data-location="Finish Line"
                          data-id="4"
                        >
                          <i
                            class="material-icons"
                            data-toggle="tooltip"
                            title="Edit"
                            >&#xE254;</i
                          >
                        </a>
                        <a
                          href="#deleteSpecificActivityModal"
                          class="delete"
                          data-toggle="modal"
                        >
                          <i
                            class="material-icons"
                            data-toggle="tooltip"
                            title="Delete"
                            >&#xE872;</i
                          >
                        </a>
                      </td>
                    </tr>
                    <tr data-id="5">
                      <td class="activity-time">10.30 PM</td>
                      <td class="activity-name">Medal Distribution</td>
                      <td class="activity-location">Medal Counter</td>
                      <td>
                        <a
                          href="#editSpecificActivityModal"
                          class="edit"
                          data-toggle="modal"
                          data-time="10.30 PM"
                          data-name="Medal Distibution"
                          data-location="Medal Counter"
                          data-id="5"
                        >
                          <i
                            class="material-icons"
                            data-toggle="tooltip"
                            title="Edit"
                            >&#xE254;</i
                          >
                        </a>
                        <a
                          href="#deleteSpecificActivityModal"
                          class="delete"
                          data-toggle="modal"
                        >
                          <i
                            class="material-icons"
                            data-toggle="tooltip"
                            title="Delete"
                            >&#xE872;</i
                          >
                        </a>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Edit Event Modal -->
    <div
      id="editInfoModal"
      class="modal fade"
      tabindex="-1"
      role="dialog"
      aria-labelledby="editInfoModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="editInfoModalLabel">
              Edit Event Details
            </h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          
          <div class="modal-body">
            <form>
              <div class="form-group" id="titleField" style="display: none;">
                <label for="eventTitle">Event Title</label>
                <input
                  type="text"
                  class="form-control"
                  id="eventTitle"
                />
              </div>

                <div class="form-group" id="dateField" style="display: none;">
                <label for="eventDate">Event Date</label>
                <input
                  type="text"
                  class="form-control"
                  id="eventDate"
                />
              </div>    
              
              <div class="form-group" id="timeField" style="display: none;">
                <label for="eventTime">Event Date</label>
                <input
                  type="text"
                  class="form-control"
                  id="eventTime"
                />
              </div>  

              <div class="form-group" id="locationField" style="display: none;">
                <label for="eventLocation">Event Date</label>
                <input
                  type="text"
                  class="form-control"
                  id="eventLocation"
                />
              </div>  
            </form>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Close
            </button>
            <button type="button" class="btn btn-primary" id="saveEventBtn">
              Save Changes
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Delete Event Modal -->
    <div
      id="deleteInfoModal"
      class="modal fade"
      tabindex="-1"
      role="dialog"
      aria-labelledby="deleteInfoModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="deleteInfoModalLabel">Delete Event</h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <p>Are you sure you want to delete this event?</p>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Cancel
            </button>
            <button type="button" class="btn btn-danger">Delete</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Add Activity Modal -->
    <div
      id="addActivityModal"
      class="modal fade"
      tabindex="-1"
      role="dialog"
      aria-labelledby="addActivityModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="addActivityModalLabel">
              Add New Activity
            </h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form>
              <div class="form-group">
                <label for="activityTime">Time</label>
                <input
                  type="text"
                  class="form-control"
                  id="activityTime"
                  placeholder="Enter time"
                />
              </div>
              <div class="form-group">
                <label for="activityName">Activity</label>
                <input
                  type="text"
                  class="form-control"
                  id="activityName"
                  placeholder="Enter activity name"
                />
              </div>
              <div class="form-group">
                <label for="activityLocation">Location</label>
                <input
                  type="text"
                  class="form-control"
                  id="activityLocation"
                  placeholder="Enter location"
                />
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Close
            </button>
            <button type="button" class="btn btn-primary">Save Activity</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Edit Activity Modal -->
    <div
      id="editSpecificActivityModal"
      class="modal fade"
      tabindex="-1"
      role="dialog"
      aria-labelledby="editSpecificActivityModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="editSpecificActivityModalLabel">
              Edit Schedule
            </h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form>
              <div class="form-group">
            <label for="editActivityTime">Time</label>
            <input type="text" class="form-control" id="editActivityTime" />
          </div>
          <div class="form-group">
            <label for="editActivityName">Activity</label>
            <input type="text" class="form-control" id="editActivityName" />
          </div>
          <div class="form-group">
            <label for="editActivityLocation">Location</label>
            <input type="text" class="form-control" id="editActivityLocation" />
          </div>
        </form>
      </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Close
            </button>
            <button type="button" class="btn btn-primary" id="saveActivityBtn">
              Save Changes
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Delete Activity Modal -->
    <div
      id="deleteSpecificActivityModal"
      class="modal fade"
      tabindex="-1"
      role="dialog"
      aria-labelledby="deleteSpecificActivityModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="deleteSpecificActivityModalLabel">
              Delete Activity
            </h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <p>Are you sure you want to delete this activity?</p>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Cancel
            </button>
            <button type="button" class="btn btn-danger">Delete</button>
          </div>
        </div>
      </div>
    </div>
    <footer id="footer" class="footer transparent-background">
      <div class="container">
        <div class="copyright text-center ">
          <p>© <span>Copyright</span> <strong class="px-1 sitename">ComingSoon</strong> <span>All Rights Reserved</span></p>
        </div>
        <div class="social-links d-flex justify-content-center">
          <a href="https://m.facebook.com/profile.php?id=100085816266970"><i class="bi bi-facebook"></i></a>
          <a href="https://www.instagram.com/3kpp_usm/?hl=en"><i class="bi bi-instagram"></i></a>
          <a href="https://www.tiktok.com/@3kpp_usm?_t=8rUfpqcwQLv&_r=1"><i class="bi bi-tiktok"></i></a>
        </div>
      </div>
    </footer>
    <!-- Save Changes After Edit -->
    <script>
// Check if there are saved values in localStorage and apply them
  if (localStorage.getItem("eventTitle")) {
    $("#eventTitleCell").text(localStorage.getItem("eventTitle"));
  }

  if (localStorage.getItem("eventDate")) {
    $("#eventDateCell").text(localStorage.getItem("eventDate"));
  }

  if (localStorage.getItem("eventTime")) {
    $("#eventTimeCell").text(localStorage.getItem("eventTime"));
  }

  if (localStorage.getItem("eventLocation")) {
    $("#eventLocationCell").text(localStorage.getItem("eventLocation"));
  }

      $(document).ready(function () {
       // When an 'Edit' button is clicked, populate the modal with the correct field value
    $("a.edit").on("click", function () {
      var field = $(this).data("field");  // Get the field type (either 'title' or 'date')
      var currentValue = $(this).data("value");  // Get the current value of the field

      // Clear and hide both fields in the modal initially
      $("#titleField").hide();
      $("#dateField").hide();
      $("#timeField").hide();
      $("#locationField").hide();


      // Show the appropriate field in the modal
      if (field === "title") {
        $("#titleField").show();
        $("#eventTitle").val(currentValue);  // Set the value of the input for event title
      } 
      
      else if (field === "date") {
        $("#dateField").show();
        $("#eventDate").val(currentValue);  // Set the value of the input for event date
      } 
      
      else if (field === "time") {
        $("#timeField").show();
        $("#eventTime").val(currentValue);  // Set the value of the input for event date
      } 
      
      else if (field === "location") {
        $("#locationField").show();
        $("#eventLocation").val(currentValue);  // Set the value of the input for event date
      }
      
    });

    // When the 'Save Changes' button is clicked, update the table cells and save the new value to localStorage
  $("#saveEventBtn").click(function () {
    if ($("#titleField").is(":visible")) {
      var newEventTitle = $("#eventTitle").val();  // Get the new event title value
      $("#eventTitleCell").text(newEventTitle);  // Update the table cell with the new value
      localStorage.setItem("eventTitle", newEventTitle);  // Save to localStorage
    } 

    else if ($("#dateField").is(":visible")) {
      var newEventDate = $("#eventDate").val();  // Get the new event date value
      $("#eventDateCell").text(newEventDate);  // Update the table cell with the new value
      localStorage.setItem("eventDate", newEventDate);  // Save to localStorage
    } 

    else if ($("#timeField").is(":visible")) {
      var newEventTime = $("#eventTime").val();  // Get the new event time value
      $("#eventTimeCell").text(newEventTime);  // Update the table cell with the new value
      localStorage.setItem("eventTime", newEventTime);  // Save to localStorage
    } 

    else if ($("#locationField").is(":visible")) {
      var newEventLocation = $("#eventLocation").val();  // Get the new event location value
      $("#eventLocationCell").text(newEventLocation);  // Update the table cell with the new value
      localStorage.setItem("eventLocation", newEventLocation);  // Save to localStorage
    }

    $("#editInfoModal").modal("hide");  // Close the modal
  });
});

  // SCHEDULE
$(document).ready(function () {
  // When the 'Edit' button is clicked for an activity, populate the modal with the current activity details
  $(document).on("click", "a.edit", function () {
    var activityTime = $(this).data("time");
    var activityName = $(this).data("name");
    var activityLocation = $(this).data("location");
    var activityId = $(this).data("id"); // Get the ID of the activity

    // Store the activity ID in the modal button to target the correct row later
    $("#saveActivityBtn").data("id", activityId); // Store the ID for later use

    // Set the values of the modal fields
    $("#editActivityTime").val(activityTime);
    $("#editActivityName").val(activityName);
    $("#editActivityLocation").val(activityLocation);
  });

  // When the 'Save Changes' button is clicked, update the table row with the new values
  $("#saveActivityBtn").click(function () {
    var newActivityTime = $("#editActivityTime").val(); // Get the new time
    var newActivityName = $("#editActivityName").val(); // Get the new activity name
    var newActivityLocation = $("#editActivityLocation").val(); // Get the new location
    var activityId = $(this).data("id"); // Get the activity ID

    // Update the table with the new values
    var row = $('tr[data-id="' + activityId + '"]'); // Find the row using the activity ID
    if (row.length) {
      row.find(".activity-time").text(newActivityTime); // Update the time column
      row.find(".activity-name").text(newActivityName); // Update the activity name column
      row.find(".activity-location").text(newActivityLocation); // Update the location column

      // Optionally: Save updated values to localStorage to persist the changes after page reload
      localStorage.setItem("activity_" + activityId, JSON.stringify({
        time: newActivityTime,
        name: newActivityName,
        location: newActivityLocation
      }));

      // Close the modal after saving changes
      $('#editSpecificActivityModal').modal('hide');
    }
  });

  // Load saved activities from localStorage on page load (if any)
  $("tr[data-id]").each(function () {
    var activityId = $(this).data("id"); // Get the activity ID
    var savedActivity = localStorage.getItem("activity_" + activityId); // Retrieve from localStorage

    if (savedActivity) {
      var activityData = JSON.parse(savedActivity);
      $(this).find(".activity-time").text(activityData.time); // Update the time column
      $(this).find(".activity-name").text(activityData.name); // Update the name column
      $(this).find(".activity-location").text(activityData.location); // Update the location column
    }
  });
});

    </script>
  </body>
</html>
